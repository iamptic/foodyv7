<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Foody ‚Äî –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</title>
  <link rel="stylesheet" href="./merchant.css" />
  <script defer src="/config.js"></script>
  <script defer src="./merchant.js"></script>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <span class="logo">üçΩÔ∏è</span>
      <span class="title">Foody ¬∑ –õ–ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</span>
    </div>
    <nav class="tabs" id="tabs">
      <button data-tab="auth" class="tab active">–í—Ö–æ–¥</button>
      <button data-tab="dashboard" class="tab">–î–∞—à–±–æ—Ä–¥</button>
      <button data-tab="offers" class="tab">–û—Ñ—Ñ–µ—Ä—ã</button>
      <button data-tab="profile" class="tab">–ü—Ä–æ—Ñ–∏–ª—å</button>
      <button data-tab="export" class="tab">–≠–∫—Å–ø–æ—Ä—Ç</button>
      <button id="logoutBtn" class="tab danger">–í—ã–π—Ç–∏</button>
    </nav>
  </header>

  <main class="container">
    <!-- AUTH -->
    <section id="auth" class="tabpane active">
      <div class="card">
        <h2>–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
        <p class="muted">–í—ã–±–µ—Ä–∏—Ç–µ: —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω –∏–ª–∏ –≤–æ–π—Ç–∏ –ø–æ ID –∏ –∫–ª—é—á—É.</p>
        <div class="grid two">
          <div>
            <h3>–°–æ–∑–¥–∞—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω</h3>
            <form id="registerForm">
              <label>–ù–∞–∑–≤–∞–Ω–∏–µ <input required name="name" placeholder="–ö–∞—Ñ–µ –ü–ª—é—Å"/></label>
              <label>–¢–µ–ª–µ—Ñ–æ–Ω <input required name="phone" placeholder="+7 900 123-45-67"/></label>
              <button type="submit" class="primary">–°–æ–∑–¥–∞—Ç—å</button>
            </form>
          </div>
          <div>
            <h3>–í–æ–π—Ç–∏ –ø–æ –¥–∞–Ω–Ω—ã–º</h3>
            <form id="loginForm">
              <label>Restaurant ID <input required name="restaurant_id" placeholder="RID_..."/></label>
              <label>API Key <input required name="api_key" placeholder="KEY_..."/></label>
              <button type="submit" class="primary">–í–æ–π—Ç–∏</button>
            </form>
          </div>
        </div>
        <div class="note">
          –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ <b>Restaurant ID</b> –∏ <b>API Key</b>. –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
        </div>
      </div>
    </section>

    <!-- DASHBOARD -->
    <section id="dashboard" class="tabpane">
      <div class="grid three">
        <div class="card stat">
          <div class="stat-title">–ê–∫—Ç–∏–≤–Ω—ã–µ –æ—Ñ—Ñ–µ—Ä—ã</div>
          <div class="stat-value" id="statOffers">‚Äî</div>
        </div>
        <div class="card stat">
          <div class="stat-title">–û—Å—Ç–∞—Ç–æ–∫ —à—Ç.</div>
          <div class="stat-value" id="statQty">‚Äî</div>
        </div>
        <div class="card stat">
          <div class="stat-title">–°—Ä–µ–¥–Ω—è—è —Å–∫–∏–¥–∫–∞</div>
          <div class="stat-value" id="statDisc">‚Äî</div>
        </div>
      </div>
      <div class="card">
        <h3>–ë–ª–∏–∂–∞–π—à–∏–µ –æ—Ñ—Ñ–µ—Ä—ã</h3>
        <div id="dashboardOffers" class="list"></div>
      </div>
    </section>

    <!-- OFFERS -->
    <section id="offers" class="tabpane">
      <div class="card">
        <h2>–°–æ–∑–¥–∞—Ç—å –æ—Ñ—Ñ–µ—Ä</h2>
        <form id="offerForm" class="grid three">
          <label>–ù–∞–∑–≤–∞–Ω–∏–µ <input required name="title" placeholder="–°–µ—Ç —ç–∫–ª–µ—Ä–æ–≤"/></label>
          <label>–¶–µ–Ω–∞, ‚ÇΩ <input required name="price" type="number" min="0" step="1" placeholder="199"/></label>
          <label>–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞, ‚ÇΩ <input name="original_price" type="number" min="0" step="1" placeholder="349"/></label>
          <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ, —à—Ç <input required name="qty_total" type="number" min="1" step="1" placeholder="5"/></label>
          <label>–ò—Å—Ç–µ–∫–∞–µ—Ç <input required name="expires_at" type="datetime-local"/></label>
          <label>–§–æ—Ç–æ (URL) <input name="image_url" placeholder="https://..."/></label>
          <label class="full"><textarea name="description" rows="3" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–∞..."></textarea></label>
          <button type="submit" class="primary full">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ñ—Ñ–µ—Ä</button>
        </form>
      </div>
      <div class="card">
        <h3>–ú–æ–∏ –æ—Ñ—Ñ–µ—Ä—ã</h3>
        <div id="offerList" class="table"></div>
      </div>
    </section>

    <!-- PROFILE -->
    <section id="profile" class="tabpane">
      <div class="card">
        <h2>–ü—Ä–æ—Ñ–∏–ª—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</h2>
        <form id="profileForm" class="grid three">
          <label>–ù–∞–∑–≤–∞–Ω–∏–µ <input name="name" /></label>
          <label>–¢–µ–ª–µ—Ñ–æ–Ω <input name="phone" /></label>
          <label>–í—Ä–µ–º—è –∑–∞–∫—Ä—ã—Ç–∏—è <input name="close_time" type="time" /></label>
          <label class="full">–ê–¥—Ä–µ—Å <input name="address" placeholder="–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º"/></label>
          <label>–®–∏—Ä–æ—Ç–∞ <input name="lat" type="number" step="0.000001" /></label>
          <label>–î–æ–ª–≥–æ—Ç–∞ <input name="lng" type="number" step="0.000001" /></label>
          <button type="submit" class="primary full">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
        </form>
      </div>
      <div class="card">
        <h3>–¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ</h3>
        <pre id="profileDump" class="dump">‚Äî</pre>
      </div>
    </section>

    <!-- EXPORT -->
    <section id="export" class="tabpane">
      <div class="card">
        <h2>–≠–∫—Å–ø–æ—Ä—Ç</h2>
        <p class="muted">–°–∫–∞—á–∞—Ç—å CSV —Å —Ç–µ–∫—É—â–∏–º–∏ –æ—Ñ—Ñ–µ—Ä–∞–º–∏.</p>
        <button id="downloadCsv" class="primary">–°–∫–∞—á–∞—Ç—å CSV</button>
      </div>
      <div class="card">
        <h3>–¢–µ–∫—É—â–∏–µ –∫–ª—é—á–∏</h3>
        <div id="creds" class="dump small">‚Äî</div>
      </div>
    </section>
  </main>

  <div id="toast"></div>
</body>
</html>
